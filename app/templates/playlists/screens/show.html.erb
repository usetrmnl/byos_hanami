<%= render "shared/title", text: "#{playlist.label} Screens" %>

<section class="bit-page page-playlists">
  <header class="bit-header">
    <ul class="bit-breadcrumbs">
      <li class="bit-breadcrumb">
        <%= link_to "Playlists", routes.path(:playlists), class: :link %>
      </li>

      <li class="bit-breadcrumb">
        <%= link_to playlist.label, routes.path(:playlist, id: playlist.id), class: :link %>
      </li>

      <%= tag.li "Screens", class: "bit-breadcrumb" %>
    </ul>

    <button class="bit-popover-trigger" popovertarget="popover-shortcuts">
      <%= image_tag "icons/info.svg", width: 20, height: 20, loading: :lazy %>
    </button>

    <dialog id="popover-shortcuts" class="bit-popover-content" popover="auto">
      <button class="close" popovertarget="popover-shortcuts" popovertargetaction="hide">
        <span aria-hidden=true>❌</span>
        <span class="screen_reader">Close</span>
      </button>

      <h2>Keyboard Shortcuts</h2>

      <ul>
        <li><kbd>←</kbd>: Go to previous slide</li>
        <li><kbd>→</kbd>: Go to next slide</li>
        <li><kbd>f</kbd>: Toggle fullscreen</li>
        <li><kbd>ESC</kbd>: Exit fullscreen</li>
      </ul>
    </dialog>
  </header>

  <% if playlist.screens.any? %>
    <%= render :screen, playlist:, before:, current:, after:, index:, total:, status: %>
  <% else %>
    <div class="playlists">
      <%= render "shared/empty", message: "No screens found." %>
    </div>
  <% end %>
</section>
