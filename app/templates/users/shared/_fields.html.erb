<fieldset class="column">
  <%= scope(:form_field, key: :name, errors:).render do %>
    <label class="key" for="user_name">Name</label>

    <%= form.text_field :name,
                        id: :user_name,
                        value: field_for(:name, fields, user),
                        class: :value,
                        autocomplete: :name %>
  <% end %>

  <%= scope(:form_field, key: :email, errors:).render do %>
    <label class="key" for="user_email">Email</label>

    <%= form.text_field :email,
                        id: :user_email,
                        value: field_for(:email, fields, user),
                        class: :value,
                        autocomplete: :email %>
  <% end %>

  <%= scope(:form_field, key: :password, errors:).render do %>
    <label class="key" for="user_password">Password</label>

    <div class="input-group" x-data="{ show: false }">
      <%= form.text_field :password,
                          id: :user_password,
                          value: field_for(:password, fields, user),
                          class: "value value-cap",
                          "x-bind:type" => "show ? 'text' : 'password'"%>

      <%= render "shared/visibility_button" %>
    </div>
  <% end %>

  <%= scope(:form_field, key: :status_id, errors:).render do %>
    <label class="key" for="user_status_id">
      Status
      <%= render "shared/popovers/trigger", name: :status %>
    </label>

    <%= form.select :status_id,
                    select_options_for(statuses, label: :name),
                    id: :user_status_id,
                    class: :value %>
  <% end %>

</fieldset>

<%= render "users/shared/popovers/all" %>
